<?xml version="1.0" encoding="UTF-8"?>

<?import java.net.URL?>
<?import javafx.geometry.Insets?>
<?import javafx.scene.control.Button?>
<?import javafx.scene.control.ComboBox?>
<?import javafx.scene.control.Label?>
<?import javafx.scene.control.ScrollPane?>
<?import javafx.scene.layout.Pane?>
<?import javafx.scene.control.TableColumn?>
<?import javafx.scene.control.TableView?>
<?import javafx.scene.control.TextField?>
<?import javafx.scene.layout.AnchorPane?>
<?import javafx.scene.layout.HBox?>
<?import javafx.scene.layout.VBox?>
<?import javafx.scene.text.Font?>
<?import javafx.scene.image.Image?>
<?import javafx.scene.image.ImageView?>


<AnchorPane id="AnchorPane" styleClass="mainFxmlClass" xmlns="http://javafx.com/javafx/25" xmlns:fx="http://javafx.com/fxml/1" fx:controller="inventorysystem.controllers.ItemController">

    <stylesheets>
        <URL value="@/inventorysystem/assets/styles.css" />
    </stylesheets>

    <children>
        <VBox prefHeight="720" prefWidth="950" spacing="15"
              style="-fx-background-color: #ffffff;
             -fx-background-radius: 10;
             -fx-effect: dropshadow(gaussian, rgba(0,0,0,0.15), 16, 0.1, 0, 3);">
            <padding>
                <Insets bottom="15" left="20" right="20" top="15" />
            </padding>

            <!-- Title -->
            <Label text="Inventory Items"
                   style="-fx-font-size: 20px; -fx-font-weight: bold; -fx-text-fill: #2c3e50;" />

            <!-- Filter Bar -->
            <HBox alignment="CENTER_LEFT" spacing="10">
                <TextField fx:id="searchField" prefWidth="300" promptText="ðŸ” Search by name, barcode, or category..." />

                <ComboBox fx:id="filterCategoryComboBox" prefWidth="200" promptText="Filter by Category" />

                <ComboBox fx:id="filterStatusComboBox" prefWidth="200" promptText="Filter by Status" />

                <Button fx:id="clearFilterButton" maxHeight="35" onAction="#handleClearFilters" prefWidth="100" styleClass="neutral-btn" text="Clear" />
            </HBox>

            <!-- Action Buttons -->
            <HBox spacing="10">
                <Button fx:id="addButton" onAction="#handleAddItem" styleClass="primary-btn" text="Add Item" />
                <Button fx:id="updateButton" onAction="#handleUpdate" styleClass="secondary-btn" text="Update Item" />
                <Button fx:id="deleteButton" onAction="#handleDelete" styleClass="danger-btn" text="Delete Item" />
                <!-- View Details Button (NEW) -->
                <Button fx:id="viewDetailsButton" onAction="#handleViewDetails" styleClass="secondary-btn" text="View Details"/>
                <!-- Export button WITH icon (same button structure) -->
                <Button fx:id="exportButton" onAction="#handleExport" styleClass="secondary-btn" text=" ðŸ“¥ Export"/>
                <Button fx:id="exportBarcodeButton" onAction="#handleExportBarcode" styleClass="secondary-btn" text="ðŸ·ï¸ Export Barcode" />
            </HBox>


            <!-- Table -->
            <ScrollPane fitToHeight="true" fitToWidth="true" style="-fx-background-color:transparent;">
                <TableView fx:id="itemTable" prefHeight="607.0" prefWidth="908.0">
                    <columns>
                        <TableColumn fx:id="colItemName" prefWidth="150" text="Item Name" />
                        <TableColumn fx:id="colBarcode" prefWidth="120" text="Barcode" />
                        <TableColumn fx:id="colCategory" prefWidth="120" text="Category" />
                        <TableColumn fx:id="colUnit" prefWidth="80" text="Unit" />
                        <TableColumn fx:id="colStatus" prefWidth="120" text="Status" />
                        <TableColumn fx:id="colDateAcquired" prefWidth="120" text="Date Acquired" />
                        <TableColumn fx:id="colLastScanned" prefWidth="130" text="Last Scanned" />
                        <TableColumn fx:id="colInCharge" prefWidth="130" text="In-Charge" />
                    </columns>
                </TableView>
            </ScrollPane>
            <!-- Pagination Footer -->
            <HBox spacing="10" alignment="CENTER_LEFT" style="-fx-padding: 10 0 0 0;">

                <!-- Left pagination controls -->
                <Button fx:id="btnPrev" text="Previous" />
                <Label fx:id="lblPageInfo" text="Page 1 of 1" />
                <Button fx:id="btnNext" text="Next" />

                <!-- Spacer to push items right -->
                <Pane HBox.hgrow="ALWAYS"/>

                <!-- Bottom right: Rows per page -->
                <HBox spacing="5" alignment="CENTER_RIGHT">
                    <Label text="Rows per page:"/>
                    <ComboBox fx:id="rowsPerPageCombo" prefWidth="80"/>
                </HBox>
            </HBox>


        </VBox>
    </children>
</AnchorPane>
